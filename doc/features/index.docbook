<chapter id="features">
<title>Script Features</title>

<para>&kdesvn-build; features include:</para>


<itemizedlist>

<listitem><para>Automatically checks out or updates modules from &svn;, as
appropriate.</para></listitem>

<listitem><para>Times the build process for modules.</para></listitem>

<listitem><para>Automatically tries to rebuild modules that were using incremental
make, which is prone to failure after certain kinds of commits.</para></listitem>

<listitem><para>Can resume a previous script, or start the build process from a particular
module.</para></listitem>

<listitem><para>Comes built-in with a sane set of default options appropriate for building
a base &kde; single-user installation from the anonymous &svn; repository.
</para></listitem>

<listitem><para>Comes with <ulink url="http://www.kde.me.uk/index.php?page=unsermake">Unsermake</ulink>
support.</para></listitem>

<listitem><para>Tilde-expansion for your configuration options.  For example, you can
specify:</para>
<para><screen>qtdir ~/kdesvn/build/qt-copy</screen></para></listitem>

<listitem><para>Configurable build, source, and logging directories</para></listitem>

<listitem><para>Automatically sets up a build system, with the source directory not the
same as the build directory, in order to keep the source directory
pristine. The exception is <application>qt-copy</application>, which isn't designed to be built like
that (unless you'd like to test the
<link linkend="conf-use-qt-builddir-hack"><quote>qt with a separate build directory hack</quote></link>).</para></listitem>

<listitem><para>You can specify global options to apply to every module to check out, and
you can specify options to apply to individual modules as well.</para></listitem>

<listitem><para>Since the autotools sometimes get out of sync with changes to the
source tree, you can force a rebuild of a module by creating a file called
.refresh-me in the build directory of the module in question, or by running
&kdesvn-build; with the <option>--refresh-build</option> option.</para></listitem>

<listitem><para>You can specify various environment values to be used during the build,
including <envar>KDEDIR</envar>, <envar>QTDIR</envar>, <envar>DO_NOT_COMPILE</envar>,
and <envar>CXXFLAGS</envar>.</para></listitem>

<listitem><para>Command logging.  Logs are dated and numbered so that you always have a
log of a script run.  Also, a special symlink called latest is created to
always point to the most recent log entry in the log directory.</para></listitem>

<listitem><para>If you're using a user build of &kde; instead of a system build (for which
you must be root to install), you can use the script to install for you.  I
haven't audited this code, and it makes ample use of the <function>system()</function>
call, so I would not recommend running it as root at this point.</para></listitem>

<listitem><para>You can use <link linkend="conf-make-install-prefix">make-install-prefix</link> to
prefix the make install command line with a separate command, which is useful
for sudo.</para></listitem>

<listitem><para>You can use the <link linkend="conf-apidox">apidox</link> option to automatically
build and install the API documentation for some modules.</para></listitem>

<listitem><para>You can check out only a portion of a &kde; &svn; module.  For example,
you could check out only the <application>taglib</application> from
<application>kdesupport</application>, or only <application>K3B</application> from
<application>extragear/multimedia</application>.  The script will automatically pull in
<application>kde-common</application> if necessary to make the build work.</para></listitem>

<listitem><para>You can <quote>pretend</quote> to do the operations.  If you pass
<option>--pretend</option> or <option>-p</option> on the
command line, the script will give a very verbose description of the commands
it is about to execute, without actually executing it.</para></listitem>

<listitem><para>Support for checking out specific branches of &svn;
modules. This work still needs to be completed.</para></listitem>

</itemizedlist>

<para>Things that &kdesvn-build; does NOT do:</para>

<itemizedlist>
<listitem><para>Find the fastest &kde; &svn; mirror.  There isn't even a list shipped
with the script at this point, although the default server should work
fine.</para></listitem>
<listitem><para>Brush your teeth. You should remember to do that yourself.</para></listitem>
<listitem><para>The script probably isn't bug-free. Sorry.</para></listitem>
</itemizedlist>

</chapter>
