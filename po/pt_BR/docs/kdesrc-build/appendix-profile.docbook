<!--
SPDX-FileCopyrightText: 2005 - 2008, 2010 - 2022 Michael Pyne <mpyne@kde.org>
SPDX-FileCopyrightText: 2005 - 2024 The kdesrc-build authors

SPDX-License-Identifier: GFDL-1.2-no-invariants-or-later
-->

<appendix id="appendix-profile">
<title
>Procedimentos de configuração do perfil obsoletos</title>

<sect1 id="old-profile-setup">
<title
>Configurar um perfil de autenticação do &kde;</title>

<para
>Estas instruções descrevem como configurar o perfil necessário para garantir que o seu computador consegue iniciar uma sessão no seu ambiente de trabalho &plasma; do &kde; recém compilada. O &kdesrc-build; irá tentar fazer isto de forma automática (veja em <xref linkend="session-driver"/>). Esta seção do apêndice poderá ser útil para os que não consigam usar o suporte do &kdesrc-build; para a configuração dos perfis de autenticação. Contudo, as instruções nem sempre estão atualizadas, podendo ser útil consultar o arquivo <filename
>kde-env-master.sh.in</filename
> que vem incluído com o código do &kdesrc-build;.</para>

<sect2 id="changing-profile">
<title
>Alterando a configuração do seu perfil inicial</title>

<important
><para
>O arquivo <filename
>.bash_profile</filename
> é o arquivo de configuração do usuário na linha de comando <application
>bash</application
>, que é usada por muitas distribuições &Linux;. Se você usar uma linha de comando diferente, então poderá ter que ajustar os exemplos dados nesta seção, para a sua linha de comando em particular.</para
></important>

<para
>Abra ou crie o arquivo <filename
>.bash_profile</filename
> na pasta pessoal com o seu editor favorito e adicione ao fim do arquivo: Se você estiver compilando o módulo 'qt' (o padrão), adicione em alternativa: <programlisting>
PATH=${install-dir}/bin:${qt-install-dir}/bin:$PATH
MANPATH=${qt-install-dir}/doc/man:$MANPATH

# Agir apropriadamente se LD_LIBRARY_PATH não estiver definida.
if [ -z $LD_LIBRARY_PATH ]; then
  LD_LIBRARY_PATH=${install-dir}:/lib:${qt-install-dir}/lib
else
  LD_LIBRARY_PATH=${install-dir}:/lib:${qt-install-dir}/lib:$LD_LIBRARY_PATH
fi

export PATH MANPATH LD_LIBRARY_PATH
</programlisting
> ou, se não estiver compilando o 'qt' (e usar o &Qt; do seu sistema), adicione isto em alternativa: <programlisting
>PATH=${install-dir}/bin:${qt-install-dir}/bin:$PATH

# Agir apropriadamente se LD_LIBRARY_PATH não estiver definida.
if [ -z $LD_LIBRARY_PATH ]; then
  LD_LIBRARY_PATH=${install-dir}/lib
else
  LD_LIBRARY_PATH=${install-dir}/lib:$LD_LIBRARY_PATH
fi

export PATH LD_LIBRARY_PATH
</programlisting>
</para>

<para
>Se você não estiver usando um usuário dedicado, defina um novo <envar
>$KDEHOME</envar
> para o seu novo ambiente no seu arquivo <filename
>.bash_profile</filename
>: <programlisting
>export KDEHOME="${HOME}/.kde-git"

# Criar a pasta se necessário
[ ! -e ~/.kde-git ] &amp;&amp; mkdir ~/.kde-git
</programlisting>
</para>

<note>
<para
>Se, mais tarde, o seu Menu K estiver vazio ou completamente cheio de aplicativos da sua distribuição, você poderá ter que definir as suas variáveis de ambiente do <acronym
>XDG</acronym
> no seu <filename
>.bash_profile</filename
>: <programlisting
>XDG_CONFIG_DIRS="/etc/xdg"
XDG_DATA_DIRS="${install-dir}/share:/usr/share"
export XDG_CONFIG_DIRS XDG_DATA_DIRS
</programlisting>

</para>
</note>

</sect2>
<sect2 id="starting-kde">
<title
>Iniciando o &kde;</title>

<para
>Agora que você ajustou a sua configuração do ambiente para usar o &kde; correto, é importante certificar-se de que o programa <command
>startkde</command
> correto seja usado também. </para>

<para
>Abra o arquivo de texto <filename
>.xinitrc</filename
> da sua pasta pessoal, ou crie-o se necessário. Adicione a linha: <programlisting
><command
>exec</command
> <option
>${install-dir}/bin/startkde</option
>
</programlisting>
</para>

<important
><para
>Em algumas distribuições, poderá ser necessário efetuar os mesmos passos com o arquivo <filename
>.xsession</filename
>, também na pasta pessoal. Isto aplica-se especialmente nos gerenciadores de login gráficos como o sddm, o <application
>gdm</application
> ou o <application
>xdm</application
>.</para>
</important>

<para
>Agora inicie o seu novo &kde;: nos sistemas &BSD; e &Linux;, com o suporte para terminais virtuais, os atalhos <keycombo action="simul"
>&Ctrl;&Alt;<keycap
>F1</keycap
></keycombo
> ... <keycombo action="simul"
>&Ctrl;&Alt;<keycap
>F12</keycap
></keycombo
> são usados para mudar para o Console Virtual 1 a 12. Isto permite-lhe executar mais de um ambiente gráfico ao mesmo tempo. Os primeiros seis são terminais de texto e os seis seguintes são gráficos. </para>

<para
>Se, quando você iniciar o seu computador, aparecer o gerenciador gráfico de login, você poderá usar o novo ambiente do &kde;, mesmo que não apareça como uma opção. A maioria dos gerenciadores de login, incluindo o sddm, possuem uma opção para usar uma <quote
>Sessão Personalizada</quote
> ao se logar. Com esta opção, a sua configuração de sessões é carregada do arquivo <filename
>.xsession</filename
> da sua pasta pessoal. Se você já tiver modificado este arquivo como descrito acima, esta opção deverá carregar a sua nova instalação do &kde;. </para>

<para
>Caso contrário, existe algo que você poderá tentar que normalmente funciona: Pressione <keycombo action="simul"
>&Ctrl;&Alt;<keycap
>F2</keycap
></keycombo
>, para que apareça um terminal de texto. Logue-se com o usuário dedicado e digite: </para>

<screen
><command
>startx</command
> <option
>--</option
> <option
>:1</option
>
</screen>

<tip>
<para
>Você poderá executar o &kde; a partir do código e o &kde; antigo ao mesmo tempo! Logue-se com o seu usuário normal e inicie o ambiente de trabalho do &kde; estável. Pressione <keycombo action="simul"
>&Ctrl;&Alt;<keycap
>F2</keycap
></keycombo
> (ou <keycap
>F1</keycap
>, <keycap
>F3</keycap
>, etc..), e verá um terminal de texto. Logue-se com o usuário dedicado ao &git; do &kde; e digite:</para>

<screen
><command
>startx</command
> <option
>--</option
> <option
>:1</option
>
</screen>

<para
>Você poderá voltar ao ambiente de trabalho do &kde; do seu usuário normal, pressionando a tecla de atalho do ambiente em execução. Ela é normalmente o <keycombo action="simul"
>&Ctrl;&Alt;<keycap
>F7</keycap
></keycombo
>, sendo que você poderá também precisar usar o <keycap
>F6</keycap
> ou o <keycap
>F8</keycap
> em alternativa. Para voltar ao seu &kde; compilado pelo &kdesrc-build;, você irá usar a mesma sequência, usando, no entanto, a tecla de função seguinte. Por exemplo, se você precisar inserir <keycombo action="simul"
>&Ctrl;&Alt;<keycap
>F7</keycap
></keycombo
> para mudar para o seu &kde; normal, poderá ter que inserir <keycombo action="simul"
>&Ctrl;&Alt;<keycap
>F8</keycap
></keycombo
> para voltar ao seu &kde; do &kdesrc-build;.</para>
</tip>

</sect2>
</sect1>

</appendix>
